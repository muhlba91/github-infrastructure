---
name: muehlbachler-public-services-infrastructure
description: "Infrastructure for Personal Public Services"
visibility: public
protected: true
topics:
  - services
  - infrastructure
  - pulumi
  - kubernetes

rulesets:
  branch:
    enabled: false

accessPermissions:
  pulumi: true
  doppler: false
  tailscale: true
  vault:
    enabled: true
    additionalMounts:
      - path: kubernetes-public-services-cluster
        create: true
        permissions:
          - create
          - read
          - update
          - delete
          - list
  aws:
    region: eu-west-1
    account: 215622641987
  google:
    region: europe-west4
    project: public-services-402810
    linkedProjects:
      root-muehlbachler:
        accessLevel: default
      muehlbachler-dns:
        accessLevel: default
        iamPermissions:
          - dns.managedZones.get
          - dns.managedZones.list
          - dns.managedZones.update
          - dns.projects.get
          - dns.resourceRecordSets.create
          - dns.resourceRecordSets.delete
          - dns.resourceRecordSets.get
          - dns.resourceRecordSets.list
          - dns.resourceRecordSets.update
    enabledServices:
      - container.googleapis.com
      - containersecurity.googleapis.com
    iamPermissions:
      - compute.addresses.create
      - compute.addresses.createInternal
      - compute.addresses.delete
      - compute.addresses.deleteInternal
      - compute.addresses.get
      - compute.addresses.list
      - compute.addresses.setLabels
      - compute.addresses.use
      - compute.addresses.useInternal
      - compute.diskTypes.get
      - compute.diskTypes.list
      - compute.disks.addResourcePolicies
      - compute.disks.create
      - compute.disks.createSnapshot
      - compute.disks.createTagBinding
      - compute.disks.delete
      - compute.disks.deleteTagBinding
      - compute.disks.get
      - compute.disks.getIamPolicy
      - compute.disks.list
      - compute.disks.listEffectiveTags
      - compute.disks.listTagBindings
      - compute.disks.removeResourcePolicies
      - compute.disks.resize
      - compute.disks.setIamPolicy
      - compute.disks.setLabels
      - compute.disks.startAsyncReplication
      - compute.disks.stopAsyncReplication
      - compute.disks.stopGroupAsyncReplication
      - compute.disks.update
      - compute.disks.use
      - compute.disks.useReadOnly
      - compute.firewallPolicies.create
      - compute.firewallPolicies.createTagBinding
      - compute.firewallPolicies.delete
      - compute.firewallPolicies.deleteTagBinding
      - compute.firewallPolicies.get
      - compute.firewallPolicies.getIamPolicy
      - compute.firewallPolicies.list
      - compute.firewallPolicies.listEffectiveTags
      - compute.firewallPolicies.listTagBindings
      - compute.firewallPolicies.setIamPolicy
      - compute.firewallPolicies.update
      - compute.firewallPolicies.use
      - compute.firewalls.create
      - compute.firewalls.createTagBinding
      - compute.firewalls.delete
      - compute.firewalls.deleteTagBinding
      - compute.firewalls.get
      - compute.firewalls.list
      - compute.firewalls.listEffectiveTags
      - compute.firewalls.listTagBindings
      - compute.firewalls.update
      - compute.images.create
      - compute.images.createTagBinding
      - compute.images.delete
      - compute.images.deleteTagBinding
      - compute.images.deprecate
      - compute.images.get
      - compute.images.getFromFamily
      - compute.images.getIamPolicy
      - compute.images.list
      - compute.images.listEffectiveTags
      - compute.images.listTagBindings
      - compute.images.setIamPolicy
      - compute.images.setLabels
      - compute.images.update
      - compute.images.useReadOnly
      - compute.instanceGroupManagers.create
      - compute.instanceGroupManagers.delete
      - compute.instanceGroupManagers.get
      - compute.instanceGroupManagers.list
      - compute.instanceGroupManagers.update
      - compute.instanceGroupManagers.use
      - compute.instanceSettings.get
      - compute.instanceSettings.update
      - compute.instanceTemplates.create
      - compute.instanceTemplates.delete
      - compute.instanceTemplates.get
      - compute.instanceTemplates.getIamPolicy
      - compute.instanceTemplates.list
      - compute.instanceTemplates.setIamPolicy
      - compute.instanceTemplates.useReadOnly
      - compute.instances.addAccessConfig
      - compute.instances.addMaintenancePolicies
      - compute.instances.addResourcePolicies
      - compute.instances.attachDisk
      - compute.instances.create
      - compute.instances.createTagBinding
      - compute.instances.delete
      - compute.instances.deleteAccessConfig
      - compute.instances.deleteTagBinding
      - compute.instances.detachDisk
      - compute.instances.get
      - compute.instances.getEffectiveFirewalls
      - compute.instances.getGuestAttributes
      - compute.instances.getIamPolicy
      - compute.instances.getScreenshot
      - compute.instances.getSerialPortOutput
      - compute.instances.getShieldedInstanceIdentity
      - compute.instances.getShieldedVmIdentity
      - compute.instances.list
      - compute.instances.listEffectiveTags
      - compute.instances.listReferrers
      - compute.instances.listTagBindings
      - compute.instances.osAdminLogin
      - compute.instances.osLogin
      - compute.instances.pscInterfaceCreate
      - compute.instances.removeMaintenancePolicies
      - compute.instances.removeResourcePolicies
      - compute.instances.reset
      - compute.instances.resume
      - compute.instances.sendDiagnosticInterrupt
      - compute.instances.setDeletionProtection
      - compute.instances.setDiskAutoDelete
      - compute.instances.setIamPolicy
      - compute.instances.setLabels
      - compute.instances.setMachineResources
      - compute.instances.setMachineType
      - compute.instances.setMetadata
      - compute.instances.setMinCpuPlatform
      - compute.instances.setName
      - compute.instances.setScheduling
      - compute.instances.setSecurityPolicy
      - compute.instances.setServiceAccount
      - compute.instances.setShieldedInstanceIntegrityPolicy
      - compute.instances.setShieldedVmIntegrityPolicy
      - compute.instances.setTags
      - compute.instances.simulateMaintenanceEvent
      - compute.instances.start
      - compute.instances.startWithEncryptionKey
      - compute.instances.stop
      - compute.instances.suspend
      - compute.instances.update
      - compute.instances.updateAccessConfig
      - compute.instances.updateDisplayDevice
      - compute.instances.updateNetworkInterface
      - compute.instances.updateSecurity
      - compute.instances.updateShieldedInstanceConfig
      - compute.instances.updateShieldedVmConfig
      - compute.instances.use
      - compute.instances.useReadOnly
      - compute.instantSnapshots.create
      - compute.instantSnapshots.delete
      - compute.instantSnapshots.export
      - compute.instantSnapshots.get
      - compute.instantSnapshots.getIamPolicy
      - compute.instantSnapshots.list
      - compute.instantSnapshots.setIamPolicy
      - compute.instantSnapshots.setLabels
      - compute.instantSnapshots.useReadOnly
      - compute.networkAttachments.create
      - compute.networkAttachments.delete
      - compute.networkAttachments.get
      - compute.networkAttachments.getIamPolicy
      - compute.networkAttachments.list
      - compute.networkAttachments.setIamPolicy
      - compute.networks.access
      - compute.networks.addPeering
      - compute.networks.create
      - compute.networks.createTagBinding
      - compute.networks.delete
      - compute.networks.deleteTagBinding
      - compute.networks.get
      - compute.networks.getEffectiveFirewalls
      - compute.networks.getRegionEffectiveFirewalls
      - compute.networks.list
      - compute.networks.listEffectiveTags
      - compute.networks.listPeeringRoutes
      - compute.networks.listTagBindings
      - compute.networks.mirror
      - compute.networks.removePeering
      - compute.networks.setFirewallPolicy
      - compute.networks.switchToCustomMode
      - compute.networks.update
      - compute.networks.updatePeering
      - compute.networks.updatePolicy
      - compute.networks.use
      - compute.networks.useExternalIp
      - compute.projects.get
      - compute.projects.setDefaultNetworkTier
      - compute.regions.get
      - compute.regions.list
      - compute.subnetworks.create
      - compute.subnetworks.createTagBinding
      - compute.subnetworks.delete
      - compute.subnetworks.deleteTagBinding
      - compute.subnetworks.expandIpCidrRange
      - compute.subnetworks.get
      - compute.subnetworks.getIamPolicy
      - compute.subnetworks.list
      - compute.subnetworks.listEffectiveTags
      - compute.subnetworks.listTagBindings
      - compute.subnetworks.mirror
      - compute.subnetworks.setIamPolicy
      - compute.subnetworks.setPrivateIpGoogleAccess
      - compute.subnetworks.update
      - compute.subnetworks.use
      - compute.subnetworks.useExternalIp
      - compute.zoneOperations.get
      - compute.zoneOperations.list
      - compute.zones.get
      - compute.zones.list
      - container.apiServices.create
      - container.apiServices.delete
      - container.apiServices.get
      - container.apiServices.getStatus
      - container.apiServices.list
      - container.apiServices.update
      - container.apiServices.updateStatus
      - container.bindings.create
      - container.bindings.delete
      - container.bindings.get
      - container.bindings.list
      - container.bindings.update
      - container.certificateSigningRequests.approve
      - container.certificateSigningRequests.create
      - container.certificateSigningRequests.delete
      - container.certificateSigningRequests.get
      - container.certificateSigningRequests.getStatus
      - container.certificateSigningRequests.list
      - container.certificateSigningRequests.update
      - container.certificateSigningRequests.updateStatus
      - container.clusterRoleBindings.create
      - container.clusterRoleBindings.delete
      - container.clusterRoleBindings.get
      - container.clusterRoleBindings.list
      - container.clusterRoleBindings.update
      - container.clusterRoles.bind
      - container.clusterRoles.create
      - container.clusterRoles.delete
      - container.clusterRoles.escalate
      - container.clusterRoles.get
      - container.clusterRoles.list
      - container.clusterRoles.update
      - container.clusters.create
      - container.clusters.createTagBinding
      - container.clusters.delete
      - container.clusters.deleteTagBinding
      - container.clusters.get
      - container.clusters.getCredentials
      - container.clusters.impersonate
      - container.clusters.list
      - container.clusters.listEffectiveTags
      - container.clusters.listTagBindings
      - container.clusters.update
      - container.componentStatuses.get
      - container.componentStatuses.list
      - container.configMaps.create
      - container.configMaps.delete
      - container.configMaps.get
      - container.configMaps.list
      - container.configMaps.update
      - container.controllerRevisions.create
      - container.controllerRevisions.delete
      - container.controllerRevisions.get
      - container.controllerRevisions.list
      - container.controllerRevisions.update
      - container.cronJobs.create
      - container.cronJobs.delete
      - container.cronJobs.get
      - container.cronJobs.getStatus
      - container.cronJobs.list
      - container.cronJobs.update
      - container.cronJobs.updateStatus
      - container.csiDrivers.create
      - container.csiDrivers.delete
      - container.csiDrivers.get
      - container.csiDrivers.list
      - container.csiDrivers.update
      - container.csiNodeInfos.create
      - container.csiNodeInfos.delete
      - container.csiNodeInfos.get
      - container.csiNodeInfos.list
      - container.csiNodeInfos.update
      - container.csiNodes.create
      - container.csiNodes.delete
      - container.csiNodes.get
      - container.csiNodes.list
      - container.csiNodes.update
      - container.customResourceDefinitions.create
      - container.customResourceDefinitions.delete
      - container.customResourceDefinitions.get
      - container.customResourceDefinitions.getStatus
      - container.customResourceDefinitions.list
      - container.customResourceDefinitions.update
      - container.customResourceDefinitions.updateStatus
      - container.daemonSets.create
      - container.daemonSets.delete
      - container.daemonSets.get
      - container.daemonSets.getStatus
      - container.daemonSets.list
      - container.daemonSets.update
      - container.daemonSets.updateStatus
      - container.deployments.create
      - container.deployments.delete
      - container.deployments.get
      - container.deployments.getScale
      - container.deployments.getStatus
      - container.deployments.list
      - container.deployments.rollback
      - container.deployments.update
      - container.deployments.updateScale
      - container.deployments.updateStatus
      - container.endpointSlices.create
      - container.endpointSlices.delete
      - container.endpointSlices.get
      - container.endpointSlices.list
      - container.endpointSlices.update
      - container.endpoints.create
      - container.endpoints.delete
      - container.endpoints.get
      - container.endpoints.list
      - container.endpoints.update
      - container.events.create
      - container.events.delete
      - container.events.get
      - container.events.list
      - container.events.update
      - container.frontendConfigs.create
      - container.frontendConfigs.delete
      - container.frontendConfigs.get
      - container.frontendConfigs.list
      - container.frontendConfigs.update
      - container.horizontalPodAutoscalers.create
      - container.horizontalPodAutoscalers.delete
      - container.horizontalPodAutoscalers.get
      - container.horizontalPodAutoscalers.getStatus
      - container.horizontalPodAutoscalers.list
      - container.horizontalPodAutoscalers.update
      - container.horizontalPodAutoscalers.updateStatus
      - container.hostServiceAgent.use
      - container.ingresses.create
      - container.ingresses.delete
      - container.ingresses.get
      - container.ingresses.getStatus
      - container.ingresses.list
      - container.ingresses.update
      - container.ingresses.updateStatus
      - container.initializerConfigurations.create
      - container.initializerConfigurations.delete
      - container.initializerConfigurations.get
      - container.initializerConfigurations.list
      - container.initializerConfigurations.update
      - container.jobs.create
      - container.jobs.delete
      - container.jobs.get
      - container.jobs.getStatus
      - container.jobs.list
      - container.jobs.update
      - container.jobs.updateStatus
      - container.leases.create
      - container.leases.delete
      - container.leases.get
      - container.leases.list
      - container.leases.update
      - container.limitRanges.create
      - container.limitRanges.delete
      - container.limitRanges.get
      - container.limitRanges.list
      - container.limitRanges.update
      - container.localSubjectAccessReviews.create
      - container.localSubjectAccessReviews.list
      - container.managedCertificates.create
      - container.managedCertificates.delete
      - container.managedCertificates.get
      - container.managedCertificates.list
      - container.managedCertificates.update
      - container.mutatingWebhookConfigurations.create
      - container.mutatingWebhookConfigurations.delete
      - container.mutatingWebhookConfigurations.get
      - container.mutatingWebhookConfigurations.list
      - container.mutatingWebhookConfigurations.update
      - container.namespaces.create
      - container.namespaces.delete
      - container.namespaces.finalize
      - container.namespaces.get
      - container.namespaces.getStatus
      - container.namespaces.list
      - container.namespaces.update
      - container.namespaces.updateStatus
      - container.networkPolicies.create
      - container.networkPolicies.delete
      - container.networkPolicies.get
      - container.networkPolicies.list
      - container.networkPolicies.update
      - container.nodes.create
      - container.nodes.delete
      - container.nodes.get
      - container.nodes.getStatus
      - container.nodes.list
      - container.nodes.proxy
      - container.nodes.update
      - container.nodes.updateStatus
      - container.operations.get
      - container.operations.list
      - container.persistentVolumeClaims.create
      - container.persistentVolumeClaims.delete
      - container.persistentVolumeClaims.get
      - container.persistentVolumeClaims.getStatus
      - container.persistentVolumeClaims.list
      - container.persistentVolumeClaims.update
      - container.persistentVolumeClaims.updateStatus
      - container.persistentVolumes.create
      - container.persistentVolumes.delete
      - container.persistentVolumes.get
      - container.persistentVolumes.getStatus
      - container.persistentVolumes.list
      - container.persistentVolumes.update
      - container.persistentVolumes.updateStatus
      - container.petSets.create
      - container.petSets.delete
      - container.petSets.get
      - container.petSets.list
      - container.petSets.update
      - container.petSets.updateStatus
      - container.podDisruptionBudgets.create
      - container.podDisruptionBudgets.delete
      - container.podDisruptionBudgets.get
      - container.podDisruptionBudgets.getStatus
      - container.podDisruptionBudgets.list
      - container.podDisruptionBudgets.update
      - container.podDisruptionBudgets.updateStatus
      - container.podPresets.create
      - container.podPresets.delete
      - container.podPresets.get
      - container.podPresets.list
      - container.podPresets.update
      - container.podSecurityPolicies.create
      - container.podSecurityPolicies.delete
      - container.podSecurityPolicies.get
      - container.podSecurityPolicies.list
      - container.podSecurityPolicies.update
      - container.podSecurityPolicies.use
      - container.podTemplates.create
      - container.podTemplates.delete
      - container.podTemplates.get
      - container.podTemplates.list
      - container.podTemplates.update
      - container.pods.attach
      - container.pods.create
      - container.pods.delete
      - container.pods.evict
      - container.pods.exec
      - container.pods.get
      - container.pods.getLogs
      - container.pods.getStatus
      - container.pods.initialize
      - container.pods.list
      - container.pods.portForward
      - container.pods.proxy
      - container.pods.update
      - container.pods.updateStatus
      - container.priorityClasses.create
      - container.priorityClasses.delete
      - container.priorityClasses.get
      - container.priorityClasses.list
      - container.priorityClasses.update
      - container.replicaSets.create
      - container.replicaSets.delete
      - container.replicaSets.get
      - container.replicaSets.getScale
      - container.replicaSets.getStatus
      - container.replicaSets.list
      - container.replicaSets.update
      - container.replicaSets.updateScale
      - container.replicaSets.updateStatus
      - container.replicationControllers.create
      - container.replicationControllers.delete
      - container.replicationControllers.get
      - container.replicationControllers.getScale
      - container.replicationControllers.getStatus
      - container.replicationControllers.list
      - container.replicationControllers.update
      - container.replicationControllers.updateScale
      - container.replicationControllers.updateStatus
      - container.resourceQuotas.create
      - container.resourceQuotas.delete
      - container.resourceQuotas.get
      - container.resourceQuotas.getStatus
      - container.resourceQuotas.list
      - container.resourceQuotas.update
      - container.resourceQuotas.updateStatus
      - container.roleBindings.create
      - container.roleBindings.delete
      - container.roleBindings.get
      - container.roleBindings.list
      - container.roleBindings.update
      - container.roles.bind
      - container.roles.create
      - container.roles.delete
      - container.roles.escalate
      - container.roles.get
      - container.roles.list
      - container.roles.update
      - container.runtimeClasses.create
      - container.runtimeClasses.delete
      - container.runtimeClasses.get
      - container.runtimeClasses.list
      - container.runtimeClasses.update
      - container.scheduledJobs.create
      - container.scheduledJobs.delete
      - container.scheduledJobs.get
      - container.scheduledJobs.list
      - container.scheduledJobs.update
      - container.scheduledJobs.updateStatus
      - container.secrets.create
      - container.secrets.delete
      - container.secrets.get
      - container.secrets.list
      - container.secrets.update
      - container.selfSubjectAccessReviews.create
      - container.selfSubjectAccessReviews.list
      - container.selfSubjectRulesReviews.create
      - container.serviceAccounts.create
      - container.serviceAccounts.createToken
      - container.serviceAccounts.delete
      - container.serviceAccounts.get
      - container.serviceAccounts.list
      - container.serviceAccounts.update
      - container.services.create
      - container.services.delete
      - container.services.get
      - container.services.getStatus
      - container.services.list
      - container.services.proxy
      - container.services.update
      - container.services.updateStatus
      - container.statefulSets.create
      - container.statefulSets.delete
      - container.statefulSets.get
      - container.statefulSets.getScale
      - container.statefulSets.getStatus
      - container.statefulSets.list
      - container.statefulSets.update
      - container.statefulSets.updateScale
      - container.statefulSets.updateStatus
      - container.storageClasses.create
      - container.storageClasses.delete
      - container.storageClasses.get
      - container.storageClasses.list
      - container.storageClasses.update
      - container.storageStates.create
      - container.storageStates.delete
      - container.storageStates.get
      - container.storageStates.getStatus
      - container.storageStates.list
      - container.storageStates.update
      - container.storageStates.updateStatus
      - container.storageVersionMigrations.create
      - container.storageVersionMigrations.delete
      - container.storageVersionMigrations.get
      - container.storageVersionMigrations.getStatus
      - container.storageVersionMigrations.list
      - container.storageVersionMigrations.update
      - container.storageVersionMigrations.updateStatus
      - container.subjectAccessReviews.create
      - container.subjectAccessReviews.list
      - container.thirdPartyObjects.create
      - container.thirdPartyObjects.delete
      - container.thirdPartyObjects.get
      - container.thirdPartyObjects.list
      - container.thirdPartyObjects.update
      - container.thirdPartyResources.create
      - container.thirdPartyResources.delete
      - container.thirdPartyResources.get
      - container.thirdPartyResources.list
      - container.thirdPartyResources.update
      - container.tokenReviews.create
      - container.updateInfos.create
      - container.updateInfos.delete
      - container.updateInfos.get
      - container.updateInfos.list
      - container.updateInfos.update
      - container.validatingWebhookConfigurations.create
      - container.validatingWebhookConfigurations.delete
      - container.validatingWebhookConfigurations.get
      - container.validatingWebhookConfigurations.list
      - container.validatingWebhookConfigurations.update
      - container.volumeAttachments.create
      - container.volumeAttachments.delete
      - container.volumeAttachments.get
      - container.volumeAttachments.getStatus
      - container.volumeAttachments.list
      - container.volumeAttachments.update
      - container.volumeAttachments.updateStatus
      - container.volumeSnapshotClasses.create
      - container.volumeSnapshotClasses.delete
      - container.volumeSnapshotClasses.get
      - container.volumeSnapshotClasses.list
      - container.volumeSnapshotClasses.update
      - container.volumeSnapshotContents.create
      - container.volumeSnapshotContents.delete
      - container.volumeSnapshotContents.get
      - container.volumeSnapshotContents.getStatus
      - container.volumeSnapshotContents.list
      - container.volumeSnapshotContents.update
      - container.volumeSnapshotContents.updateStatus
      - container.volumeSnapshots.create
      - container.volumeSnapshots.delete
      - container.volumeSnapshots.get
      - container.volumeSnapshots.getStatus
      - container.volumeSnapshots.list
      - container.volumeSnapshots.update
      - container.volumeSnapshots.updateStatus
      - servicedirectory.namespaces.delete
      - servicedirectory.services.create
      - servicedirectory.services.delete
